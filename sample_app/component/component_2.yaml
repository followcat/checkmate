---
title: "State identification"
data:
  - @from_attribute(R=request) 'RequestState(R:ActionRequest)'

---
title: "State machine"
data:
  - Transitions:
      - name: '[Input/Final state/Output]'
        incoming:
          - ExchangeButton:     PBAC()
        outgoing:
          - Action:             AC() 

      - name: '[Input/Final state/Output]'
        incoming:
          - ActionCode:         ER()
        returned:
          - Action:             AC()
        outgoing:
          - ValidateOutput:     VOER()

      - name: '[Input/Final state/Output]'
        initial:
          - RequestState:       R
        incoming:
          - AnotherReaction:    ARE()
        outgoing:
          - Action:             AP(R)

      - name: '[Input/Final state/Output]'
        incoming:
          - ExchangeButton:     PBRL()
        outgoing:
          - Reaction:           RL()

      - name: '[Input/Final state/Output]'
        incoming:
          - ThirdReaction:      DR()
        outgoing:
          - ValidateOutput:     VODR()

      - name: '[Input/Final state/Output]'
        incoming:
          - ExchangeButton:     PBPP()
        outgoing:
          - Action:             PP(R)

  - Transitions:
      - name: 'C2 pause process'
        incoming:
          - Pause:              PA()
        outgoing:
          - ValidateOutput:     VOPA()

      - name: 'C2 third action'
        incoming:
          - ThirdAction:        DA()
        outgoing:
          - ValidateOutput:     VODA()

  - Transitions:
      - name: 'Return code OK'
        incoming:
          - ActionCode:         OK()
